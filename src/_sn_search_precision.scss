// =============================================================================
// YEAR 3000: PRECISION TARGETING MODULE - FLUX REVOLUTION
// =============================================================================
// Modern Spotify class targeting with holographic, neural-connected interface
// Targets: data-testid, e-9911-, encore-, Areas__, ListRowTitle, etc.

// === PHASE 4B: IMAGE LIBERATION PROTOCOL ===
// NUCLEAR OPTION: Force all album art to be visible
img[src*="spotifycdn.com"],
img[src*="mosaic.scdn.co"],
img[src*="image-cdn-ak.spotifycdn.com"],
.main-image-image {
  opacity: 1 !important;
  filter: contrast(1.15) saturate(1.35) brightness(1.08)
    drop-shadow(0 0 12px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.25)) !important;
  border-radius: 8px !important;
  transition: all 400ms cubic-bezier(0.23, 1, 0.32, 1) !important;

  // Quantum energy resonance on hover
  &:hover {
    filter: contrast(1.25) saturate(1.5) brightness(1.15)
      drop-shadow(0 0 20px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.4)) !important;
    transform: scale(1.02) !important;
  }
}

// === PHASE 4C: CONTAINER QUANTUM REPLACEMENT ===
// OBLITERATE VISTA-ERA TRANSPARENT BOXES
.pueeb339I8KrXZr0SDm1,
.GOcsybnoHYyJGQGDRuwj,
.mXNT9H2GU7lDW4cGx0q1,
.cofBW8sjoBtMAmzDgqKt {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;

  // YEAR 3000 HOLOGRAPHIC MATERIAL REPLACEMENT
  position: relative;

  &::before {
    content: "";
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    z-index: -2;
    background: conic-gradient(
      from 0deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.6) 0deg,
      rgba(var(--spice-rgb-blue, 137, 180, 250), 0.4) 72deg,
      rgba(var(--spice-rgb-mauve, 203, 166, 247), 0.5) 144deg,
      rgba(var(--spice-rgb-pink, 245, 194, 231), 0.4) 216deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.6) 288deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.6) 360deg
    );
    border-radius: 12px;
    animation: plasma-border-rotation 3s linear infinite;
    filter: blur(0.5px);
  }

  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    background: linear-gradient(
      135deg,
      rgba(var(--spice-rgb-base, 30, 30, 46), 0.92) 0%,
      rgba(var(--spice-rgb-surface0, 69, 71, 90), 0.88) 50%,
      rgba(var(--spice-rgb-surface1, 88, 91, 112), 0.85) 100%
    );
    border-radius: 8px;
    backdrop-filter: blur(20px) saturate(1.4);
  }
}

// === PHASE 1: TOP RESULT CARD - MAXIMUM ENERGY SIGNATURE ===
[data-testid="top-result-card"] {
  position: relative;
  transform-style: preserve-3d;

  // Enhanced holographic container
  .pueeb339I8KrXZr0SDm1,
  .mXNT9H2GU7lDW4cGx0q1 {
    &::before {
      background: conic-gradient(
        from 0deg,
        rgba(var(--spice-rgb-accent, 205, 214, 244), 0.8) 0deg,
        rgba(var(--spice-rgb-blue, 137, 180, 250), 0.6) 60deg,
        rgba(var(--spice-rgb-mauve, 203, 166, 247), 0.7) 120deg,
        rgba(var(--spice-rgb-pink, 245, 194, 231), 0.6) 180deg,
        rgba(var(--spice-rgb-peach, 250, 179, 135), 0.7) 240deg,
        rgba(var(--spice-rgb-accent, 205, 214, 244), 0.8) 300deg,
        rgba(var(--spice-rgb-accent, 205, 214, 244), 0.8) 360deg
      );
      animation: plasma-border-top-result 2.5s linear infinite;
      filter: blur(0.8px);
    }
  }

  // HOLOGRAPHIC HOVER TRANSFORM (ENERGY LEVEL 5)
  &:hover {
    .pueeb339I8KrXZr0SDm1,
    .mXNT9H2GU7lDW4cGx0q1 {
      transform: perspective(1200px) rotateX(calc(var(--mouse-y, 0) * 8deg))
        rotateY(calc(var(--mouse-x, 0) * 8deg)) translateZ(25px) scale(1.03);
      transition: transform 300ms cubic-bezier(0.23, 1, 0.32, 1);
    }
  }

  // Temporal relevance indicator for top result
  &::before {
    content: "";
    position: absolute;
    top: 12px;
    right: 12px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: conic-gradient(
      from 0deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 1) 0deg,
      rgba(var(--spice-rgb-blue, 137, 180, 250), 0.8) 120deg,
      rgba(var(--spice-rgb-mauve, 203, 166, 247), 1) 240deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 1) 360deg
    );
    animation: temporal-indicator-top 1.8s linear infinite;
    z-index: 10;
    box-shadow: 0 0 8px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.5);
  }
}

// === PHASE 1: ENCORE TEXT QUANTUM ENHANCEMENT ===
.e-9911-text,
.encore-text-title-small,
.encore-text-title-medium,
.encore-text-body-small,
.encore-text-body-medium {
  position: relative;

  // Energy glow for important headers
  &.encore-text-title-small,
  &.encore-text-title-medium {
    text-shadow: 0 0 8px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.4),
      0 0 16px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.2),
      0 0 24px rgba(var(--spice-rgb-accent, 205, 214, 244), 0.1);

    // Quantum shimmer effect on hover
    &:hover::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.3) 50%,
        transparent 100%
      );
      animation: quantum-shimmer 1.5s ease-out forwards;
      z-index: 1;
      pointer-events: none;
    }
  }
}

// === PHASE 1: LISTROW NEURAL CONNECTIONS ===
.e-9911-box[role="group"],
.ListRowTitle__ListRowText-sc-1xe2if1-1,
.Areas__HeaderArea-sc-8gfrea-3 {
  position: relative;

  // Neural connection indicator
  &::after {
    content: "";
    position: absolute;
    top: 50%;
    right: -15px;
    width: 30px;
    height: 1px;
    background: linear-gradient(
      90deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.6) 0%,
      rgba(var(--spice-rgb-surface1, 88, 91, 112), 0.3) 70%,
      transparent 100%
    );
    animation: neural-pulse 2.5s ease-in-out infinite;
    opacity: 0;
    transition: opacity 300ms ease;
    transform: translateY(-50%);
  }

  &:hover::after {
    opacity: 1;
  }
}

// === PHASE 3: SECTION ENERGY SIGNATURES ===
section.main-shelf-shelf[aria-label] {
  position: relative;
  margin: 40px 0;

  // Section-specific energy signatures
  &[aria-label*="Top result"] {
    --section-energy-color: var(--spice-rgb-accent, 205, 214, 244);
    --section-energy-intensity: 0.8;
  }

  &[aria-label*="Songs"] {
    --section-energy-color: var(--spice-rgb-blue, 137, 180, 250);
    --section-energy-intensity: 0.6;
  }

  &[aria-label*="Artists"] {
    --section-energy-color: var(--spice-rgb-mauve, 203, 166, 247);
    --section-energy-intensity: 0.7;
  }

  &[aria-label*="Albums"] {
    --section-energy-color: var(--spice-rgb-pink, 245, 194, 231);
    --section-energy-intensity: 0.65;
  }

  &[aria-label*="Playlists"] {
    --section-energy-color: var(--spice-rgb-peach, 250, 179, 135);
    --section-energy-intensity: 0.6;
  }

  // Neural connection lines between sections
  &:not(:last-child)::after {
    content: "";
    position: absolute;
    bottom: -20px;
    left: 50%;
    width: 150px;
    height: 2px;
    transform: translateX(-50%);
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(
          var(--section-energy-color),
          calc(var(--section-energy-intensity, 0.6) * 0.7)
        )
        20%,
      rgba(var(--section-energy-color), var(--section-energy-intensity, 0.6))
        50%,
      rgba(
          var(--section-energy-color),
          calc(var(--section-energy-intensity, 0.6) * 0.7)
        )
        80%,
      transparent 100%
    );
    animation: neural-section-pulse 3.5s ease-in-out infinite;
  }
}

// === PHASE 2: GRID CONTAINER QUANTUM ENHANCEMENT ===
[role="presentation"].main-gridContainer-gridContainer,
.main-gridContainer-gridContainer[style*="--min-column-width"] {
  position: relative;
  transform-style: preserve-3d;

  // Energy field activation on hover
  &:hover::before {
    content: "";
    position: absolute;
    top: -12px;
    left: -12px;
    right: -12px;
    bottom: -12px;
    z-index: -1;
    background: radial-gradient(
      ellipse 140% 100% at center,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.08) 0%,
      rgba(var(--spice-rgb-surface0, 69, 71, 90), 0.04) 40%,
      transparent 70%
    );
    border-radius: 16px;
    animation: energy-field-pulse 1.2s ease-out forwards;
  }
}

// === PHASE 4D: TEMPORAL RELEVANCE INDICATORS ===
.main-card-card,
[class*="Card"],
.pueeb339I8KrXZr0SDm1 {
  &::before {
    content: "";
    position: absolute;
    top: 8px;
    right: 8px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: conic-gradient(
      from 0deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.9) 0deg,
      rgba(var(--spice-rgb-blue, 137, 180, 250), 0.7) 120deg,
      rgba(var(--spice-rgb-mauve, 203, 166, 247), 0.9) 240deg,
      rgba(var(--spice-rgb-accent, 205, 214, 244), 0.9) 360deg
    );
    animation: temporal-indicator 2.2s linear infinite;
    z-index: 10;
    opacity: 0;
    transition: opacity 300ms ease;
  }

  &:hover::before {
    opacity: 1;
  }
}

// === YEAR 3000 ANIMATIONS ===
@keyframes plasma-border-rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes plasma-border-top-result {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.05);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

@keyframes quantum-shimmer {
  0% {
    left: -100%;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

@keyframes neural-pulse {
  0%,
  100% {
    opacity: 0.4;
    transform: translateY(-50%) scaleX(1);
  }
  50% {
    opacity: 1;
    transform: translateY(-50%) scaleX(1.2);
  }
}

@keyframes neural-section-pulse {
  0%,
  100% {
    opacity: 0.5;
    transform: translateX(-50%) scaleX(1);
  }
  50% {
    opacity: 1;
    transform: translateX(-50%) scaleX(1.1);
  }
}

@keyframes temporal-indicator {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.15);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

@keyframes temporal-indicator-top {
  0% {
    transform: rotate(0deg) scale(1);
  }
  25% {
    transform: rotate(90deg) scale(1.2);
  }
  50% {
    transform: rotate(180deg) scale(1.1);
  }
  75% {
    transform: rotate(270deg) scale(1.2);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

@keyframes energy-field-pulse {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  100% {
    opacity: 0.6;
    transform: scale(1);
  }
}

// === PERFORMANCE OPTIMIZATIONS ===
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.1s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.1s !important;
  }
}

// Mobile optimizations
@media (max-width: 768px) {
  .pueeb339I8KrXZr0SDm1::before,
  .GOcsybnoHYyJGQGDRuwj::before {
    animation-duration: 4s; // Slower plasma borders on mobile
  }

  [data-testid="top-result-card"]::before {
    width: 8px;
    height: 8px; // Slightly larger temporal indicator on mobile
  }
}

// GPU acceleration for smooth performance
.pueeb339I8KrXZr0SDm1,
.GOcsybnoHYyJGQGDRuwj,
.main-card-card {
  will-change: transform;
  contain: layout style paint;
}
