// ████████████████████████████████████████████████████████████████████████████████
// NOW PLAYING YEAR 3000 CONSCIOUSNESS MODULE
// Kinetic Verbs: BLOOM, OSCILLATE, RIPPLE, HARMONIZE
// The heartbeat of musical consciousness lives here
// ████████████████████████████████████████████████████████████████████████████████

:root .Root__now-playing-bar {
  // ══════════════════════════════════════════════════════════════════════════════
  // CONTROL BUTTONS - Year 3000 Enhanced
  // ══════════════════════════════════════════════════════════════════════════════

  // Shuffle Button - YEAR 3000 ENHANCED
  .main-shuffleButton-button {
    transition: all 0.3s var(--sn-easing-explorer, ease-out);

    &:focus:not(:focus-visible, :hover) {
      color: var(--spice-spice-surface1);
    }

    &:hover {
      color: var(--spice-text);
      // Kinetic Verb: BLOOM - Enhanced hover with rhythm
      transform: scale(calc(1 + (var(--sn-beat-pulse-intensity, 0) * 0.08)));
      filter: drop-shadow(
        0 0 calc(6px * var(--sn-beat-pulse-intensity, 0))
          rgba(
            var(--sn-gradient-accent-rgb, var(--spice-rgb-accent)),
            calc(0.4 * var(--sn-beat-pulse-intensity, 0))
          )
      );
    }

    // Active Shuffle State - Rhythmic consciousness
    &.main-shuffleButton-active {
      color: var(--spice-text);
      // Kinetic Verb: OSCILLATE - Active state breathes with music
      transform: scale(var(--sn-breathing-scale, 1));
      text-shadow: 0 0 calc(4px * var(--sn-beat-pulse-intensity, 0))
        rgba(
          var(--sn-gradient-primary-rgb, var(--spice-rgb-accent)),
          calc(0.6 * var(--sn-beat-pulse-intensity, 0))
        );
    }
  }

  // Play Button - THE COSMIC HEART ❤️‍🔥
  .main-playButton-PlayButton.main-playButton-primary {
    color: var(--spice-player);
    position: relative;
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.4);

    // Kinetic Verb: BLOOM - The most important button gets maximum love
    transform: scale(calc(1 + (var(--sn-beat-pulse-intensity, 0) * 0.15)));

    // Cosmic glow around play button
    &::before {
      content: "";
      position: absolute;
      inset: -8px;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        rgba(
            var(--sn-gradient-primary-rgb, var(--spice-rgb-accent)),
            calc(0.3 * var(--sn-beat-pulse-intensity, 0))
          )
          0%,
        transparent 70%
      );
      z-index: -1;
      transition: all 0.3s ease-out;
    }

    // Enhanced hover state
    &:hover::before {
      inset: -12px;
      background: radial-gradient(
        circle,
        rgba(
            var(--sn-gradient-primary-rgb, var(--spice-rgb-accent)),
            calc(0.5 * var(--sn-beat-pulse-intensity, 0))
          )
          0%,
        transparent 70%
      );
    }
  }

  // Primary Button - Enhanced background consciousness
  .main-button-primary {
    background: linear-gradient(
      135deg,
      rgba(var(--sn-gradient-primary-rgb, var(--spice-rgb-main)), 0.9) 0%,
      rgba(var(--sn-gradient-secondary-rgb, var(--spice-rgb-main)), 0.7) 100%
    );
    border: 1px solid
      rgba(var(--sn-gradient-accent-rgb, var(--spice-rgb-accent)), 0.3);
    transition: all 0.3s var(--sn-easing-explorer, ease-out);
  }

  .main-button-primary:active,
  .main-button-primary:focus,
  .main-button-primary:hover {
    background: linear-gradient(
      135deg,
      rgba(var(--sn-gradient-primary-rgb, var(--spice-rgb-sidebar)), 0.95) 0%,
      rgba(var(--sn-gradient-secondary-rgb, var(--spice-rgb-sidebar)), 0.8) 100%
    );
    // Kinetic Verb: BLOOM
    transform: scale(calc(1 + (var(--sn-beat-pulse-intensity, 0) * 0.06)));
    box-shadow: 0 0 calc(10px * var(--sn-beat-pulse-intensity, 0))
      rgba(
        var(--sn-gradient-accent-rgb, var(--spice-rgb-accent)),
        calc(0.3 * var(--sn-beat-pulse-intensity, 0))
      );
  }

  // ══════════════════════════════════════════════════════════════════════════════
  // TRANSPORT CONTROLS - Skip, Generic buttons with Year 3000 consciousness
  // ══════════════════════════════════════════════════════════════════════════════
  .Button-sm-16-buttonTertiary-iconOnly-isUsingKeyboard-useBrowserDefaultFocusStyle,
  .control-button,
  .main-view-container button:hover > div[class^="ButtonInner-sc-"],
  .main-skipForwardButton-button,
  .main-skipBackButton-button {
    color: var(--spice-subtext) !important;
    transition: all 0.3s var(--sn-easing-explorer, ease-out);

    // Kinetic Verb: OSCILLATE - All controls breathe gently
    transform: scale(var(--sn-breathing-scale, 1));

    &:hover {
      color: var(--spice-text) !important;
      // Kinetic Verb: RIPPLE - Enhanced hover
      transform: scale(
        calc(
          var(--sn-breathing-scale, 1) +
            (var(--sn-beat-pulse-intensity, 0) * 0.05)
        )
      );
      text-shadow: 0 0 calc(3px * var(--sn-beat-pulse-intensity, 0))
        rgba(
          var(--sn-gradient-accent-rgb, var(--spice-rgb-accent)),
          calc(0.4 * var(--sn-beat-pulse-intensity, 0))
        );
    }
  }

  // ══════════════════════════════════════════════════════════════════════════════
  // HEART BUTTON - Love amplifier with enhanced beat sync 💖
  // ══════════════════════════════════════════════════════════════════════════════
  .control-button-heart[aria-checked="true"],
  .main-addButton-active,
  .main-addButton-active:focus,
  .main-addButton-active:hover {
    color: var(--spice-red);
    // Kinetic Verb: BLOOM - Love pulses stronger!
    transform: scale(
      calc(1 + (var(--sn-beat-pulse-intensity, 0) * 0.18))
    ); // Maximum love pulse!
    filter: drop-shadow(
      0 0 calc(8px * var(--sn-beat-pulse-intensity, 0))
        rgba(var(--spice-rgb-red, 243, 139, 168), calc(0.7 * var(--sn-beat-pulse-intensity, 0)))
    );
    transition: all 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.5); // Heart beats fast!
  }

  // ══════════════════════════════════════════════════════════════════════════════
  // PROGRESS BAR - Year 3000 Consciousness Flow
  // ══════════════════════════════════════════════════════════════════════════════
  .x-progressBar-progressBarBg {
    position: relative;

    > div > div {
      background: linear-gradient(
        calc(90deg + (var(--sn-rhythm-phase, 0) * 4deg)),
        // Kinetic Verb: HARMONIZE
        rgba(var(--sn-gradient-primary-rgb, var(--spice-rgb-text)), 0.9) 0%,
        rgba(var(--sn-gradient-accent-rgb, var(--spice-rgb-text)), 1) 50%,
        rgba(var(--sn-gradient-secondary-rgb, var(--spice-rgb-text)), 0.9) 100%
      );
      // Kinetic Verb: REFRACT - Progress bar glows with energy
      box-shadow: 0 0 calc(4px * var(--sn-beat-pulse-intensity, 0))
        rgba(
          var(--sn-gradient-accent-rgb, var(--spice-rgb-text)),
          calc(0.5 * var(--sn-beat-pulse-intensity, 0))
        );
      transition: box-shadow 0.2s ease-out;
    }

    // Add subtle background rhythm animation
    &::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(
            var(--sn-gradient-primary-rgb, var(--spice-rgb-accent)),
            calc(0.1 * var(--sn-beat-pulse-intensity, 0))
          )
          50%,
        transparent 100%
      );
      z-index: -1;
      transition: all 0.3s ease-out;
    }
  }
}
