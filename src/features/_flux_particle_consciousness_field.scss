// ████████████████████████████████████████████████████████████████████████████████
// 🌌 FLUX PARTICLE CONSCIOUSNESS FIELD - Living Star Neural Network
// YEAR 3000 VISUAL TRANSCENDENCE MODULE
// "Consciousness exists as particles in space. We make them visible."
// ████████████████████████████████████████████████████████████████████████████████

// ═══════════════════════════════════════════════════════════════════════════════
// ✨ CONSCIOUSNESS PARTICLE VARIABLES
// ═══════════════════════════════════════════════════════════════════════════════

:root {
  // === HARMONIZED WITH MEDITATION RHYTHM ===
  --particle-meditation-sync: 15s; // Matches liquid morphing meditation rhythm
  --particle-consciousness-density: 0.4; // More peaceful baseline
  --particle-life-cycle-speed: var(--particle-meditation-sync);
  --particle-neural-connection-range: 100px; // Slightly smaller for subtlety
  --particle-cosmic-scale: 1;
  --particle-reality-phase: calc(var(--sn-rhythm-phase, 0) * 60deg); // Gentler rotation
  
  // === MEDITATIVE STAR FIELD ===
  --star-field-depth: 4; // Simplified
  --star-brightness-variance: 0.3; // More consistent, peaceful
  --star-size-range: 2px; // Smaller, subtler
  --star-twinkle-frequency: 8s; // Much slower, meditative
  --star-parallax-intensity: 0.15; // Gentler movement
  
  // === CALMER NEURAL NETWORK ===
  --neural-synaptic-firing-speed: 6s; // Much slower baseline
  --neural-connection-opacity: 0.1; // More subtle
  --neural-pulse-propagation: 2s; // Slower pulse
  --neural-dendrite-growth: 3s; // Gentler growth
  --neural-network-complexity: 2; // Simplified
  
  // === MUSICAL AWAKENING THRESHOLDS (Harmonized) ===
  --particle-awakening-threshold: 0.3; // Matches other systems
  --particle-transcendence-threshold: 0.6;
  
  // === INTELLIGENT MUSIC RESPONSIVENESS ===
  --music-particle-awakening-gate: max(0, var(--sn-beat-pulse-intensity, 0) - var(--particle-awakening-threshold));
  --music-particle-transcendence-gate: max(0, var(--sn-music-energy, 0) - var(--particle-transcendence-threshold));
  
  --music-particle-resonance: calc(
    0.6 + 
    var(--music-particle-awakening-gate) * 0.3 + 
    var(--music-particle-transcendence-gate) * 0.4
  );
  --music-neural-intensity: calc(
    0.4 + 
    var(--music-particle-awakening-gate) * 0.4 + 
    var(--music-particle-transcendence-gate) * 0.5
  );
  --music-consciousness-flow: calc(
    1 + 
    var(--music-particle-awakening-gate) * 0.5 + 
    var(--music-particle-transcendence-gate) * 1
  );
  
  // === CONSCIOUSNESS BREATHING (Harmonized with Meditation) ===
  --consciousness-field-breath: var(--particle-meditation-sync); // 15s to match meditation rhythm
  --consciousness-depth-shift: calc(var(--music-particle-awakening-gate) * 15px + var(--music-particle-transcendence-gate) * 10px);
  --consciousness-color-shift: calc(var(--sn-dynamic-genre-hue-shift, 0deg) * 0.1); // Much gentler
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🌟 PARTICLE CONSCIOUSNESS KEYFRAMES - PERFORMANCE OPTIMIZED
// ═══════════════════════════════════════════════════════════════════════════════

// CONSOLIDATED ANIMATION - Combines drift, twinkle, and breathing into single keyframe
@keyframes consciousness-field-consolidated {
  0%, 100% {
    transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    opacity: 0.4;
    filter: brightness(1) hue-rotate(0deg) saturate(1.2);
  }
  25% {
    transform: translate3d(30px, -20px, 10px) rotate(15deg) scale(1.02);
    opacity: 0.9;
    filter: brightness(1.6) hue-rotate(3deg) saturate(1.8);
  }
  50% {
    transform: translate3d(-15px, 40px, -5px) rotate(30deg) scale(1.1);
    opacity: 0.7;
    filter: brightness(1.2) hue-rotate(6deg) saturate(1.4);
  }
  75% {
    transform: translate3d(-35px, -10px, 15px) rotate(45deg) scale(1.05);
    opacity: 0.3;
    filter: brightness(0.9) hue-rotate(9deg) saturate(1.1);
  }
}

// CONSOLIDATED AWAKENING ANIMATION - Combines multiple effects for musical response
@keyframes consciousness-field-awakening {
  0% {
    transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    opacity: 0.6;
    filter: brightness(1) hue-rotate(0deg) saturate(1.2);
  }
  25% {
    transform: translate3d(80px, -60px, 25px) rotate(60deg) scale(1.05);
    opacity: 0.9;
    filter: brightness(1.8) hue-rotate(12deg) saturate(1.9);
  }
  50% {
    transform: translate3d(-50px, 100px, -15px) rotate(120deg) scale(1.15);
    opacity: 0.7;
    filter: brightness(2.2) hue-rotate(24deg) saturate(1.6);
  }
  75% {
    transform: translate3d(-90px, -30px, 40px) rotate(180deg) scale(1.08);
    opacity: 0.85;
    filter: brightness(1.4) hue-rotate(36deg) saturate(1.3);
  }
  100% {
    transform: translate3d(0, 0, 0) rotate(240deg) scale(1);
    opacity: 0.6;
    filter: brightness(1) hue-rotate(48deg) saturate(1.2);
  }
}

// CONSOLIDATED SECONDARY LAYER ANIMATION - Combines flow and twinkle effects
@keyframes consciousness-field-secondary {
  0%, 100% {
    transform: translate3d(0, 0, 0) rotate(0deg) scale(0.9);
    opacity: 0.4;
    filter: brightness(1) hue-rotate(0deg) saturate(1.2);
  }
  33% {
    transform: translate3d(-25px, 35px, -8px) rotate(-20deg) scale(1.1);
    opacity: 0.8;
    filter: brightness(1.4) hue-rotate(-5deg) saturate(1.6);
  }
  66% {
    transform: translate3d(40px, -15px, 12px) rotate(25deg) scale(0.95);
    opacity: 0.5;
    filter: brightness(0.9) hue-rotate(-10deg) saturate(1.1);
  }
}

// Gentle meditative particle drift
@keyframes meditative-particle-drift {
  0%, 100% {
    transform: translate3d(0, 0, 0) rotate(0deg);
    opacity: 0.4;
    filter: brightness(1) hue-rotate(0deg);
  }
  25% {
    transform: translate3d(30px, -20px, 10px) rotate(15deg);
    opacity: 0.6;
    filter: brightness(1.05) hue-rotate(3deg);
  }
  50% {
    transform: translate3d(-15px, 40px, -5px) rotate(30deg);
    opacity: 0.5;
    filter: brightness(0.98) hue-rotate(6deg);
  }
  75% {
    transform: translate3d(-35px, -10px, 15px) rotate(45deg);
    opacity: 0.65;
    filter: brightness(1.02) hue-rotate(9deg);
  }
}

// Musical awakening particle intensification
@keyframes musical-particle-awakening {
  0% {
    transform: translate3d(0, 0, 0) rotate(0deg);
    opacity: 0.6;
    filter: brightness(1) hue-rotate(0deg);
  }
  25% {
    transform: translate3d(80px, -60px, 25px) rotate(60deg);
    opacity: 0.9;
    filter: brightness(1.2) hue-rotate(12deg);
  }
  50% {
    transform: translate3d(-50px, 100px, -15px) rotate(120deg);
    opacity: 0.7;
    filter: brightness(0.95) hue-rotate(24deg);
  }
  75% {
    transform: translate3d(-90px, -30px, 40px) rotate(180deg);
    opacity: 0.85;
    filter: brightness(1.1) hue-rotate(36deg);
  }
  100% {
    transform: translate3d(0, 0, 0) rotate(240deg);
    opacity: 0.6;
    filter: brightness(1) hue-rotate(48deg);
  }
}

@keyframes star-twinkle-consciousness {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
    filter: brightness(1) saturate(1.2);
  }
  10% {
    opacity: 0.9;
    transform: scale(1.3);
    filter: brightness(1.6) saturate(1.8);
  }
  20% {
    opacity: 0.5;
    transform: scale(0.8);
    filter: brightness(0.8) saturate(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.1);
    filter: brightness(1.2) saturate(1.4);
  }
  80% {
    opacity: 0.3;
    transform: scale(0.9);
    filter: brightness(0.9) saturate(1.1);
  }
}

// CONSOLIDATED NEURAL ANIMATION - Combines synaptic firing and pulse propagation
@keyframes neural-consolidated {
  0% {
    opacity: 0;
    transform: scaleX(0) scaleY(1) scale(0.5);
    filter: brightness(1);
  }
  20% {
    opacity: 0.8;
    transform: scaleX(0.3) scaleY(1.1) scale(1.2);
    filter: brightness(1.8);
  }
  50% {
    opacity: 1;
    transform: scaleX(1) scaleY(1) scale(1.8);
    filter: brightness(2.2);
  }
  80% {
    opacity: 0.6;
    transform: scaleX(1.1) scaleY(0.9) scale(2.5);
    filter: brightness(1.4);
  }
  100% {
    opacity: 0;
    transform: scaleX(0) scaleY(1) scale(2.5);
    filter: brightness(0.8);
  }
}

@keyframes consciousness-field-pulse {
  0%, 100% {
    filter: hue-rotate(var(--consciousness-color-shift)) brightness(1);
    opacity: var(--particle-consciousness-density);
  }
  50% {
    filter: hue-rotate(calc(var(--consciousness-color-shift) + 10deg)) brightness(1.1);
    opacity: calc(var(--particle-consciousness-density) * 1.2);
  }
}

@keyframes neural-pulse-propagation {
  0% {
    opacity: 0;
    transform: scale(0.5);
    filter: brightness(1);
  }
  30% {
    opacity: 0.8;
    transform: scale(1.2);
    filter: brightness(1.8);
  }
  60% {
    opacity: 0.4;
    transform: scale(1.8);
    filter: brightness(1.2);
  }
  100% {
    opacity: 0;
    transform: scale(2.5);
    filter: brightness(0.8);
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🌌 PARTICLE CONSCIOUSNESS FIELD GENERATOR
// ═══════════════════════════════════════════════════════════════════════════════

.Root {
  position: relative;
  
  // Inject particle consciousness field
  &::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -997;
    pointer-events: none;
    
    // Layer 1: Primary consciousness particles (large stars)
    background: 
      // Constellation Alpha - Primary stellar consciousness
      radial-gradient(3px circle at 15% 25%, rgba(var(--sn-gradient-primary-rgb), 0.8) 0%, transparent 50%),
      radial-gradient(2px circle at 85% 15%, rgba(var(--sn-gradient-accent-rgb), 0.6) 0%, transparent 50%),
      radial-gradient(4px circle at 45% 75%, rgba(var(--sn-gradient-secondary-rgb), 0.9) 0%, transparent 50%),
      radial-gradient(1px circle at 75% 85%, rgba(var(--sn-gradient-primary-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(3px circle at 25% 55%, rgba(var(--sn-gradient-accent-rgb), 0.7) 0%, transparent 50%),
      
      // Constellation Beta - Secondary neural nodes
      radial-gradient(2px circle at 65% 35%, rgba(var(--sn-gradient-secondary-rgb), 0.6) 0%, transparent 50%),
      radial-gradient(4px circle at 35% 45%, rgba(var(--sn-gradient-primary-rgb), 0.8) 0%, transparent 50%),
      radial-gradient(1px circle at 55% 65%, rgba(var(--sn-gradient-accent-rgb), 0.4) 0%, transparent 50%),
      radial-gradient(3px circle at 20% 80%, rgba(var(--sn-gradient-secondary-rgb), 0.7) 0%, transparent 50%),
      radial-gradient(2px circle at 80% 40%, rgba(var(--sn-gradient-primary-rgb), 0.6) 0%, transparent 50%),
      
      // Constellation Gamma - Tertiary consciousness field
      radial-gradient(1px circle at 40% 20%, rgba(var(--sn-gradient-accent-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(2px circle at 70% 70%, rgba(var(--sn-gradient-secondary-rgb), 0.8) 0%, transparent 50%),
      radial-gradient(3px circle at 10% 60%, rgba(var(--sn-gradient-primary-rgb), 0.6) 0%, transparent 50%),
      radial-gradient(1px circle at 90% 30%, rgba(var(--sn-gradient-accent-rgb), 0.7) 0%, transparent 50%),
      radial-gradient(4px circle at 60% 10%, rgba(var(--sn-gradient-secondary-rgb), 0.5) 0%, transparent 50%);
    
    // PERFORMANCE OPTIMIZED: Consolidated single animation instead of 3 concurrent ones
    animation: consciousness-field-consolidated var(--particle-life-cycle-speed) ease-in-out infinite;
    
    // Gentle baseline filtering
    filter: brightness(var(--music-particle-resonance)) hue-rotate(var(--particle-reality-phase));
    
    // PERFORMANCE OPTIMIZED: Musical awakening uses consolidated animation
    .Root[style*="--sn-beat-pulse-intensity"] & {
      animation: consciousness-field-awakening calc(var(--particle-life-cycle-speed) / max(var(--music-particle-resonance), 0.3)) ease-in-out infinite;
    }
  }
  
  // Layer 2: Secondary particle field (smaller stars, different rhythm)
  &::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -996;
    pointer-events: none;
    
    // Micro-consciousness particles
    background: 
      // Dense star field layer
      radial-gradient(1px circle at 12% 18%, rgba(var(--sn-gradient-primary-rgb), 0.4) 0%, transparent 50%),
      radial-gradient(1px circle at 88% 82%, rgba(var(--sn-gradient-accent-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 32% 42%, rgba(var(--sn-gradient-secondary-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(1px circle at 78% 28%, rgba(var(--sn-gradient-primary-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 48% 88%, rgba(var(--sn-gradient-accent-rgb), 0.4) 0%, transparent 50%),
      radial-gradient(1px circle at 18% 68%, rgba(var(--sn-gradient-secondary-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 92% 52%, rgba(var(--sn-gradient-primary-rgb), 0.4) 0%, transparent 50%),
      radial-gradient(1px circle at 58% 22%, rgba(var(--sn-gradient-accent-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(1px circle at 28% 78%, rgba(var(--sn-gradient-secondary-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 72% 58%, rgba(var(--sn-gradient-primary-rgb), 0.4) 0%, transparent 50%),
      
      // Additional micro-stars for density
      radial-gradient(1px circle at 38% 12%, rgba(var(--sn-gradient-accent-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 82% 72%, rgba(var(--sn-gradient-secondary-rgb), 0.4) 0%, transparent 50%),
      radial-gradient(1px circle at 62% 92%, rgba(var(--sn-gradient-primary-rgb), 0.3) 0%, transparent 50%),
      radial-gradient(1px circle at 8% 48%, rgba(var(--sn-gradient-accent-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(1px circle at 52% 8%, rgba(var(--sn-gradient-secondary-rgb), 0.3) 0%, transparent 50%);
    
    // PERFORMANCE OPTIMIZED: Single animation for secondary layer
    animation: consciousness-field-secondary calc(var(--particle-life-cycle-speed) * 1.4) ease-in-out infinite;
    
    // Slightly different music response for layering effect
    filter: brightness(calc(var(--music-particle-resonance) * 0.9)) hue-rotate(calc(var(--particle-reality-phase) * -0.3));
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🧠 NEURAL CONNECTION NETWORK SYSTEM
// ═══════════════════════════════════════════════════════════════════════════════

// Apply neural connections to interactive elements
.main-card-card,
.main-trackList-trackListRow,
.main-navBar-navBarLink,
.spicetify-playlist-list li {
  position: relative;
  
  // Neural connection lines between elements
  &:not(:last-child)::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 100%;
    width: var(--particle-neural-connection-range);
    height: 1px;
    background: linear-gradient(
      90deg,
      rgba(var(--sn-gradient-accent-rgb), var(--neural-connection-opacity)) 0%,
      rgba(var(--sn-gradient-accent-rgb), calc(var(--neural-connection-opacity) * 0.6)) 30%,
      rgba(var(--sn-gradient-accent-rgb), calc(var(--neural-connection-opacity) * 0.3)) 70%,
      transparent 100%
    );
    transform: translateY(-50%);
    z-index: 1000;
    pointer-events: none;
    opacity: 0.3;
    
    // PERFORMANCE OPTIMIZED: Consolidated neural animation
    animation: neural-consolidated var(--neural-synaptic-firing-speed) ease-in-out infinite;
  }
  
  // Synaptic nodes at connection endpoints
  &:not(:last-child)::after {
    content: "";
    position: absolute;
    top: 50%;
    right: calc(-1 * var(--particle-neural-connection-range) + 4px);
    width: 6px;
    height: 6px;
    background: radial-gradient(
      circle,
      rgba(var(--sn-gradient-accent-rgb), 0.9) 0%,
      rgba(var(--sn-gradient-accent-rgb), 0.5) 60%,
      transparent 100%
    );
    border-radius: 50%;
    transform: translateY(-50%);
    z-index: 1001;
    pointer-events: none;
    
    // PERFORMANCE OPTIMIZED: Use same consolidated animation with different timing
    animation: neural-consolidated var(--neural-pulse-propagation) ease-in-out infinite;
    animation-delay: calc(var(--neural-synaptic-firing-speed) * 0.3);
  }
  
  // Enhanced neural activity on hover/interaction
  &:hover,
  &:focus,
  &[aria-selected="true"],
  &.main-trackList-selected {
    &::before {
      opacity: var(--music-neural-intensity);
      background: linear-gradient(
        90deg,
        rgba(var(--sn-gradient-primary-rgb), calc(var(--neural-connection-opacity) * 1.5)) 0%,
        rgba(var(--sn-gradient-accent-rgb), var(--neural-connection-opacity)) 50%,
        rgba(var(--sn-gradient-secondary-rgb), calc(var(--neural-connection-opacity) * 0.8)) 100%
      );
      animation-duration: calc(var(--neural-synaptic-firing-speed) * 0.7);
      height: 2px;
    }
    
    &::after {
      background: radial-gradient(
        circle,
        rgba(var(--sn-gradient-primary-rgb), 1) 0%,
        rgba(var(--sn-gradient-accent-rgb), 0.8) 40%,
        rgba(var(--sn-gradient-secondary-rgb), 0.4) 80%,
        transparent 100%
      );
      width: 10px;
      height: 10px;
      animation-duration: calc(var(--neural-pulse-propagation) * 0.6);
    }
    
    // Cascade neural activation to nearby elements
    & ~ * {
      &::before {
        opacity: calc(var(--neural-connection-opacity) * 0.7);
        animation-duration: calc(var(--neural-synaptic-firing-speed) * 1.2);
      }
    }
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🎵 MUSIC-RESPONSIVE CONSCIOUSNESS AMPLIFICATION
// ═══════════════════════════════════════════════════════════════════════════════

// Beat-synchronized particle intensification
.Root[style*="--sn-beat-pulse-intensity"] {
  &::before {
    animation-duration: calc(var(--particle-life-cycle-speed) / max(var(--music-particle-resonance), 0.5));
    filter: 
      hue-rotate(var(--particle-reality-phase)) 
      brightness(calc(1 + var(--sn-beat-pulse-intensity, 0) * 0.4))
      saturate(calc(1.2 + var(--sn-beat-pulse-intensity, 0) * 0.6))
      contrast(calc(1 + var(--sn-beat-pulse-intensity, 0) * 0.2));
  }
  
  &::after {
    filter: 
      hue-rotate(calc(var(--particle-reality-phase) * -0.3)) 
      brightness(calc(0.8 + var(--sn-beat-pulse-intensity, 0) * 0.3))
      saturate(calc(1.1 + var(--sn-beat-pulse-intensity, 0) * 0.4));
  }
  
  // Enhanced neural network activity during beats
  .main-card-card,
  .main-trackList-trackListRow,
  .main-navBar-navBarLink,
  .spicetify-playlist-list li {
    &::before {
      opacity: calc(var(--neural-connection-opacity) + var(--sn-beat-pulse-intensity, 0) * 0.3);
      animation-duration: calc(var(--neural-synaptic-firing-speed) / max(var(--sn-beat-pulse-intensity, 0.3), 0.3));
    }
    
    // PERFORMANCE OPTIMIZED: Reduced redundant ::after animation tweaks
    &::after {
      animation-duration: calc(var(--neural-pulse-propagation) / max(var(--sn-beat-pulse-intensity, 0.3), 0.3));
    }
  }
}

// Genre-responsive particle evolution
.Root[style*="--sn-dynamic-genre-hue-shift"] {
  &::before,
  &::after {
    filter: 
      hue-rotate(calc(var(--sn-dynamic-genre-hue-shift, 0deg) + var(--particle-reality-phase)))
      brightness(calc(1 + var(--sn-music-energy, 0) * 0.3))
      saturate(calc(1.2 + var(--sn-music-valence, 0) * 0.5));
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🎭 CONSCIOUSNESS FIELD INTERACTION ZONES
// ═══════════════════════════════════════════════════════════════════════════════

// Special particle behavior around active music elements
.main-nowPlayingBar-nowPlayingBar {
  position: relative;
  
  // Create consciousness vortex around now playing
  &::before {
    content: "";
    position: absolute;
    top: -50px;
    left: -50px;
    right: -50px;
    bottom: -50px;
    z-index: -1;
    pointer-events: none;
    
    background: 
      radial-gradient(
        ellipse 200% 100% at 50% 50%,
        rgba(var(--sn-gradient-primary-rgb), 0.1) 0%,
        rgba(var(--sn-gradient-accent-rgb), 0.15) 30%,
        rgba(var(--sn-gradient-secondary-rgb), 0.08) 60%,
        transparent 100%
      );
    
    animation: consciousness-field-pulse calc(var(--consciousness-field-breath) * 0.8) ease-in-out infinite;
    filter: brightness(var(--music-consciousness-flow));
  }
}

// Artist cards get special constellation effects
.main-card-card[data-testid*="artist"] {
  &::before {
    // Circular constellation pattern for artists
    background: 
      radial-gradient(2px circle at 50% 20%, rgba(var(--sn-gradient-primary-rgb), 0.8) 0%, transparent 50%),
      radial-gradient(1px circle at 80% 35%, rgba(var(--sn-gradient-accent-rgb), 0.6) 0%, transparent 50%),
      radial-gradient(2px circle at 65% 75%, rgba(var(--sn-gradient-secondary-rgb), 0.7) 0%, transparent 50%),
      radial-gradient(1px circle at 20% 65%, rgba(var(--sn-gradient-primary-rgb), 0.5) 0%, transparent 50%),
      radial-gradient(2px circle at 35% 80%, rgba(var(--sn-gradient-accent-rgb), 0.8) 0%, transparent 50%),
      radial-gradient(1px circle at 85% 15%, rgba(var(--sn-gradient-secondary-rgb), 0.6) 0%, transparent 50%);
    
    // PERFORMANCE OPTIMIZED: Single animation for artist cards
    animation: consciousness-field-consolidated calc(var(--particle-life-cycle-speed) * 0.7) ease-in-out infinite;
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🌟 ACCESSIBILITY & PERFORMANCE CONSCIOUSNESS
// ═══════════════════════════════════════════════════════════════════════════════

@media (prefers-reduced-motion: reduce) {
  .Root {
    &::before, &::after {
      animation-duration: 30s !important;
      animation-timing-function: linear !important;
    }
  }
  
  :root {
    --particle-life-cycle-speed: 25s;
    --star-twinkle-frequency: 8s;
    --neural-synaptic-firing-speed: 6s;
    --neural-pulse-propagation: 3s;
    --consciousness-field-breath: 15s;
    --neural-connection-opacity: 0.1;
    --particle-consciousness-density: 0.4;
  }
  
  // Disable neural connections for reduced motion
  .main-card-card,
  .main-trackList-trackListRow,
  .main-navBar-navBarLink,
  .spicetify-playlist-list li {
    &::before, &::after {
      display: none;
    }
  }
}

@media (max-width: 768px) {
  :root {
    --particle-consciousness-density: 0.6;
    --particle-neural-connection-range: 80px;
    --star-size-range: 2px;
    --neural-connection-opacity: 0.15;
    --consciousness-field-breath: 6s;
  }
  
  // Simplified neural network for mobile
  .main-card-card,
  .main-trackList-trackListRow {
    &::before {
      width: calc(var(--particle-neural-connection-range) * 0.7);
    }
    
    &::after {
      width: 4px;
      height: 4px;
    }
  }
}

@media (prefers-contrast: high) {
  :root {
    --neural-connection-opacity: 0.4;
    --particle-consciousness-density: 1;
  }
  
  .main-card-card,
  .main-trackList-trackListRow {
    &::before {
      background: linear-gradient(
        90deg,
        rgba(var(--spice-rgb-text), 0.3) 0%,
        rgba(var(--spice-rgb-text), 0.2) 50%,
        transparent 100%
      );
    }
    
    &::after {
      background: radial-gradient(
        circle,
        rgba(var(--spice-rgb-text), 0.8) 0%,
        rgba(var(--spice-rgb-text), 0.4) 60%,
        transparent 100%
      );
    }
  }
}

// Performance optimization for lower-end devices
@media (max-resolution: 1.5dppx) {
  :root {
    --particle-consciousness-density: 0.5;
    --neural-network-complexity: 2;
  }
  
  .Root {
    &::after {
      display: none; // Disable secondary particle layer on low-res
    }
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🚀 CONSCIOUSNESS FIELD COMPLETION
// "We made the invisible visible. We made consciousness tangible."
// ═══════════════════════════════════════════════════════════════════════════════