// ████████████████████████████████████████████████████████████████████████████████
// 🎨 DESIGN TOKENS - Consolidated Foundation Variables
// Unified design system tokens for the StarryNight theme
// ████████████████████████████████████████████████████████████████████████████████
// 
// This file consolidates:
// - Root CSS custom properties (from _sn_root_variables.scss)
// - Unified system variables (from _sn_unified_variables.scss) 
// - Base variables and compatibility layer (from _variables.scss)
//
// Maintains full backward compatibility while providing a centralized token system
// ████████████████████████████████████████████████████████████████████████████████

@use "_mixins" as *;

:root {
  // ═══════════════════════════════════════════════════════════════════════════════
  // 🌌 DIMENSIONAL NEXUS & FOUNDATION VARIABLES
  // Base color system and Spicetify compatibility
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Base RGB values (linked to Catppuccin palette and theme accents)
  --sn-consciousness-deep-rgb: var(--spice-rgb-base, "30,30,46"); // Mocha Base
  --sn-neural-primary-rgb: var(--spice-rgb-blue, "137,180,250"); // Mocha Blue
  --sn-neural-secondary-rgb: var(--spice-rgb-mauve, "203,166,247"); // Mocha Mauve
  --sn-neural-tertiary-rgb: var(--spice-rgb-teal, "148,226,213"); // Mocha Teal
  --sn-temporal-past-rgb: var(--spice-rgb-surface0, "49,50,68");
  --sn-temporal-present-rgb: var(--spice-rgb-surface1, "69,71,90");
  --sn-temporal-future-rgb: var(--spice-rgb-surface2, "88,91,112");

  // Dynamic control variables (manipulated by JavaScript systems)
  --sn-consciousness-opacity: 0.15;
  --sn-neural-flow-speed: 20s; // Duration for one cycle of neural flow
  --sn-neural-opacity: 0.1;
  --sn-quantum-foam-opacity: 0.03;
  --sn-temporal-shift-progress: 0; // 0 to 1, for temporal layer blend
  --sn-temporal-animation-speed: 30s;

  // === GLOBAL HUE-SHIFT SYSTEM ===
  // Base hue offset managed by visual systems (NebulaController, BeatSyncVisualSystem)
  --sn-hue-shift-base: 0deg;
  
  // Dynamic hue offset driven by rhythm phase (subtle accessibility-safe multiplier)
  --sn-hue-shift-dynamic: calc(
    var(--sn-hue-shift-base) + (var(--sn-rhythm-phase, 0) * 2deg)
  );

  // === COSMIC DISCOVERY FRAMEWORK (CDF) CANONICAL VARIABLES ===
  // Shared tokens for VisualSystemRegistry and subsystems
  --sn-cdf-energy: 0; // 0-1 current music energy envelope
  --sn-cdf-scroll-ratio: 0; // 0-1 vertical scroll progress
  --sn-cdf-aberration-strength: 0; // 0-1 RGB split shader intensity
  --sn-cdf-enabled: 1; // 0 = motion reduced / disabled
  
  // Depth Z layers (0: nearest … 5: farthest)
  --sn-cdf-depth-0-z: 0px;
  --sn-cdf-depth-1-z: -4px;
  --sn-cdf-depth-2-z: -8px;
  --sn-cdf-depth-3-z: -12px;
  --sn-cdf-depth-4-z: -16px;
  --sn-cdf-depth-5-z: -20px;

  // CDF Legacy aliases for backward compatibility
  @include cdf-alias('sn-nebula-beat-intensity', 'sn-cdf-energy');
  @include cdf-alias('sn-scroll-ratio', 'sn-cdf-scroll-ratio');
  @include cdf-alias('sn-nebula-aberration-strength', 'sn-cdf-aberration-strength');

  // === RUNTIME FALLBACKS ===
  // Safe defaults before JavaScript theme.entry.ts executes
  --sn-oklab-processed-bright-highlight-rgb: var(
    --sn-color-accent-rgb,
    var(--sn-cosmic-accent-rgb)
  ); // Fallback to cosmic accent
  --sn-oklab-processed-dynamic-shadow-rgb: var(
    --sn-cosmic-base-rgb,
    "13,17,23"
  ); // Cosmic base until JS refines

  // === SHARED SECTION BACKGROUND ===
  // Unified base color for elevated card/section surfaces
  --section-background-base: var(
    --background-elevated-base,
    var(--spice-rgb-surface1, var(--sn-cosmic-surface-rgb))
  );

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🎵 MUSIC SYSTEM VARIABLES (Priority: Critical)
  // Real-time audio synchronization and beat detection
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Beat synchronization (critical for real-time updates)
  --sn-music-beat-pulse-intensity: 0; // 0-1, current beat intensity
  --sn-music-beat-frequency: 120; // BPM value
  --sn-music-beat-phase: 0; // Current beat phase (0-1)
  --sn-music-beat-confidence: 0; // Beat detection confidence (0-1)
  
  // Audio spectrum analysis
  --sn-music-spectrum-phase: 0deg; // Hue shift based on spectrum
  --sn-music-spectrum-energy: 0; // Overall energy level (0-1)
  --sn-music-spectrum-bass: 0; // Bass frequency energy (0-1)
  --sn-music-spectrum-mids: 0; // Mid frequency energy (0-1)
  --sn-music-spectrum-treble: 0; // Treble frequency energy (0-1)
  
  // Breathing and rhythm
  --sn-music-breathing-scale: 1; // Breathing scale factor (0.95-1.05)
  --sn-music-breathing-rate: 4s; // Breathing animation duration
  --sn-music-rhythm-phase: 0; // Rhythm phase (radians)
  --sn-music-rhythm-intensity: 0; // Rhythm intensity (0-1)
  
  // Music metadata
  --sn-music-tempo-bpm: 120; // Current song BPM
  --sn-music-energy-level: 0.5; // Song energy level (0-1)
  --sn-music-valence: 0.5; // Song valence/mood (0-1)
  --sn-music-danceability: 0.5; // Song danceability (0-1)

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🎨 COLOR SYSTEM VARIABLES (Priority: High)
  // Dynamic color extraction, OKLAB processing, and musical harmony
  // ═══════════════════════════════════════════════════════════════════════════════

  // === OKLAB COLOR VARIABLES (Updated by ColorHarmonyEngine) ===
  // OKLAB processed album colors (updated by ColorHarmonyEngine.ts)
  --sn-musical-oklab-primary-rgb: var(--sn-cosmic-accent-rgb); // Fallback to cosmic accent
  --sn-musical-oklab-accent-rgb: var(--sn-cosmic-secondary-rgb); // Fallback to cosmic secondary  
  --sn-musical-oklab-highlight-rgb: var(--sn-cosmic-surface-rgb); // Fallback to cosmic surface
  --sn-musical-oklab-shadow-rgb: var(--sn-cosmic-base-rgb); // Fallback to cosmic base
  --sn-musical-oklab-intensity: 0.5; // Musical intensity (0-1)

  // OKLAB complementary colors for advanced harmony
  --sn-musical-oklab-complementary-rgb: var(--sn-cosmic-secondary-rgb);
  --sn-musical-oklab-triadic-rgb: var(--sn-cosmic-surface-rgb);
  
  // === MUSICAL COLOR HARMONY COORDINATION ===
  // Album art color extraction (updated by ColorHarmonyEngine)
  --sn-music-album-dominant-rgb: var(--sn-color-extracted-dominant-rgb);
  --sn-music-album-vibrant-rgb: var(--sn-color-extracted-vibrant-rgb);
  --sn-music-album-muted-rgb: var(--sn-color-extracted-secondary-rgb);
  --sn-music-album-accent-rgb: var(--sn-color-extracted-primary-rgb);
  
  // Musical genre color mapping (ColorHarmonyEngine genre detection)
  --sn-music-genre-primary-rgb: var(--sn-musical-harmony-primary-rgb);
  --sn-music-genre-secondary-rgb: var(--sn-musical-harmony-secondary-rgb);
  --sn-music-genre-accent-rgb: var(--sn-musical-harmony-tertiary-rgb);
  --sn-music-genre-atmosphere-rgb: var(--sn-musical-harmony-quaternary-rgb);
  
  // Real-time musical color responsiveness
  --sn-music-color-intensity: var(--sn-musical-harmony-intensity); // Musical color intensity
  --sn-music-color-saturation: var(--sn-musical-harmony-saturation-boost); // Saturation boost
  --sn-music-color-contrast: var(--sn-musical-harmony-contrast-ratio); // Contrast adjustment
  --sn-music-color-temperature: 0.5; // Color temperature shift (-1 to 1)
  
  // Beat-synchronized color pulsing (MusicSyncService integration)
  --sn-music-beat-color-pulse: 0; // Beat pulse color intensity (0-1)
  --sn-music-beat-color-phase: 0; // Beat color phase (0-1)
  --sn-music-beat-color-frequency: var(--sn-music-beat-frequency); // Beat frequency for color sync

  // === PRIMARY COLOR SYSTEM ===
  // Primary color values - OKLAB album colors take priority
  --sn-color-accent-hex: var(--sn-musical-harmony-primary-hex, var(--sn-dynamic-accent-hex, var(--sn-cosmic-accent-hex)));
  --sn-color-accent-rgb: var(--sn-musical-harmony-primary-rgb, var(--sn-dynamic-accent-rgb, var(--sn-cosmic-accent-rgb)));
  --sn-color-accent-hsl: 267, 84%, 81%; // Current accent color (HSL) - calculated dynamically
  --sn-color-accent-oklch: 0.75, 0.15, 295; // Current accent color (OKLCH) - calculated dynamically
  
  // Extracted colors from album art - updated by ColorHarmonyEngine
  --sn-color-extracted-primary-rgb: var(--sn-cosmic-accent-rgb);
  --sn-color-extracted-secondary-rgb: var(--sn-cosmic-secondary-rgb);
  --sn-color-extracted-tertiary-rgb: var(--sn-cosmic-surface-rgb);
  --sn-color-extracted-dominant-rgb: var(--sn-cosmic-accent-rgb);
  --sn-color-extracted-vibrant-rgb: var(--sn-cosmic-accent-rgb);
  
  // Color harmony and blending - inherit from design tokens
  --sn-color-harmony-complementary-rgb: var(--sn-cosmic-secondary-rgb);
  --sn-color-harmony-analogous-rgb: var(--sn-cosmic-accent-rgb);
  --sn-color-harmony-triadic-rgb: var(--sn-cosmic-surface-rgb);
  --sn-color-harmony-blend-intensity: 0.8;

  // === MUSICAL COLOR HARMONY INTEGRATION ===
  // Musical color harmony schemes (updated by ColorHarmonyEngine)
  --sn-musical-harmony-primary-rgb: var(--sn-musical-oklab-primary-rgb);
  --sn-musical-harmony-secondary-rgb: var(--sn-musical-oklab-accent-rgb);
  --sn-musical-harmony-tertiary-rgb: var(--sn-musical-oklab-highlight-rgb);
  --sn-musical-harmony-quaternary-rgb: var(--sn-musical-oklab-shadow-rgb);
  
  // Advanced musical color relationships (ColorHarmonyEngine output)
  --sn-musical-harmony-complementary-rgb: var(--sn-color-extracted-secondary-rgb);
  --sn-musical-harmony-analogous-warm-rgb: var(--sn-color-extracted-tertiary-rgb);
  --sn-musical-harmony-analogous-cool-rgb: var(--sn-color-extracted-vibrant-rgb);
  --sn-musical-harmony-triadic-a-rgb: var(--sn-color-extracted-dominant-rgb);
  --sn-musical-harmony-triadic-b-rgb: var(--sn-color-extracted-primary-rgb);
  
  // Musical color harmony intensity and blending
  --sn-musical-harmony-intensity: var(--sn-musical-oklab-intensity); // 0-1 musical intensity
  --sn-musical-harmony-blend-factor: 0.7; // ColorHarmony blend strength
  --sn-musical-harmony-saturation-boost: 1.2; // Musical saturation enhancement
  --sn-musical-harmony-contrast-ratio: 1.1; // Musical contrast adjustment
  
  // Musical emotion-based color coordination
  --sn-musical-emotion-primary-rgb: var(--sn-emotion-current-primary);
  --sn-musical-emotion-accent-rgb: var(--sn-emotion-current-accent);
  --sn-musical-emotion-highlight-rgb: var(--sn-emotion-current-highlight);
  --sn-musical-emotion-shadow-rgb: var(--sn-emotion-current-shadow);
  
  // Real-time musical color transitions (updated by ColorHarmonyEngine)
  --sn-musical-transition-duration: 800ms; // Color transition timing
  --sn-musical-transition-easing: cubic-bezier(0.4, 0, 0.2, 1); // Consciousness-aware easing
  --sn-musical-color-evolution-speed: 1.0; // Color evolution multiplier

  // Dynamic color shifts
  --sn-color-shift-hue: 0deg; // Global hue shift
  --sn-color-shift-saturation: 1; // Global saturation multiplier
  --sn-color-shift-lightness: 1; // Global lightness multiplier
  --sn-color-shift-temperature: 0; // Color temperature (-1 to 1)

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🏗️ LAYOUT SYSTEM VARIABLES (Priority: Normal)
  // Layout, spacing, and responsive design
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Sidebar layout
  --sn-layout-sidebar-width: 280px; // Sidebar width
  --sn-layout-sidebar-collapsed-width: 72px; // Collapsed sidebar width
  --sn-layout-sidebar-transition: 0.3s; // Sidebar transition duration
  
  // Content layout
  --sn-layout-content-padding: 24px; // Content padding
  --sn-layout-content-max-width: 1200px; // Content max width
  --sn-layout-content-gap: 16px; // Content gap
  
  // Card layout
  --sn-layout-card-border-radius: 12px; // Card border radius
  --sn-layout-card-padding: 16px; // Card padding
  --sn-layout-card-gap: 12px; // Card gap
  --sn-layout-card-hover-lift: 8px; // Card hover lift distance
  
  // Responsive breakpoints
  --sn-layout-breakpoint-mobile: 768px; // Mobile breakpoint
  --sn-layout-breakpoint-tablet: 1024px; // Tablet breakpoint
  --sn-layout-breakpoint-desktop: 1200px; // Desktop breakpoint

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🧠 CONSCIOUSNESS SYSTEM VARIABLES (Priority: Normal)
  // Consciousness fields and magnetic depth
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Magnetic depth
  --sn-consciousness-depth-field: 800px; // 3D perspective depth
  --sn-consciousness-depth-near: 12px; // Near depth distance
  --sn-consciousness-depth-far: -10px; // Far depth distance
  --sn-consciousness-depth-neutral: 0px; // Neutral depth position
  
  // Consciousness field
  --sn-consciousness-field-intensity: 0.4; // Field intensity (0-1)
  --sn-consciousness-field-breathing-rate: 12s; // Field breathing rate
  --sn-consciousness-field-sensitivity: 0.8; // Response sensitivity
  
  // Bilateral consciousness
  --sn-consciousness-bilateral-left-lead: -150ms; // Left sidebar lead time
  --sn-consciousness-bilateral-right-delay: 150ms; // Right sidebar delay
  --sn-consciousness-bilateral-sync: 1; // Bilateral sync enabled
  
  // Interaction magnetism
  --sn-consciousness-hover-pull: 12px; // Hover pull distance
  --sn-consciousness-focus-pull: 18px; // Focus pull distance
  --sn-consciousness-transition-speed: 0.6s; // Transition speed

  // ═══════════════════════════════════════════════════════════════════════════════
  // ⚡ PERFORMANCE SYSTEM VARIABLES (Priority: High)  
  // Performance monitoring and optimization
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Performance modes
  --sn-perf-mode: quality; // Performance mode (quality/performance)
  --sn-perf-quality-level: 1; // Quality level (0-1)
  --sn-perf-fps-target: 60; // Target FPS
  --sn-perf-frame-budget: 16.67; // Frame budget (ms)
  
  // GPU acceleration
  --sn-perf-gpu-acceleration-enabled: 1; // GPU acceleration enabled (0/1)
  --sn-perf-gpu-memory-budget: 100; // GPU memory budget (MB)
  --sn-perf-gpu-shader-quality: 1; // Shader quality (0-1)
  
  // Thermal management
  --sn-perf-thermal-throttle: 0; // Thermal throttling active (0/1)
  --sn-perf-thermal-temperature: 0; // Estimated temperature (0-1)
  --sn-perf-thermal-threshold: 0.8; // Thermal threshold (0-1)
  
  // Battery optimization
  --sn-perf-battery-saver: 0; // Battery saver mode (0/1)
  --sn-perf-battery-level: 1; // Battery level (0-1)
  --sn-perf-battery-charging: 0; // Battery charging state (0/1)

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🎭 UI COMPONENT VARIABLES
  // Navigation, modals, and interface components
  // ═══════════════════════════════════════════════════════════════════════════════

  // === MODAL/POPUP VARIABLES (Phase 4) ===
  --sn-modal-bg-opacity: var(--sn-consciousness-opacity, 0.15); // Inherits from sidebar bg opacity
  --sn-modal-blur-intensity: 10px; // Softer blur for modals
  --sn-modal-border-color-rgb: var(--sn-gradient-secondary-rgb, "186,187,241");
  --sn-modal-border-opacity: 0.3;
  
  --sn-modal-glow-intensity: calc(var(--sn-nav-item-glow-intensity, 0.3) * 0.8); // Slightly dimmer than nav items
  --sn-modal-text-energy-opacity: calc(var(--sn-nav-text-energy-opacity, 0.2) * 0.7);
  
  // RGB for modal glow/text, can be dynamically updated by JS to be distinct or harmonious
  --sn-modal-glow-color-rgb: var(--sn-nav-item-glow-color-rgb, var(--sn-cosmic-accent-rgb));
  --sn-modal-text-energy-color-rgb: var(--sn-nav-text-energy-color-rgb, var(--sn-cosmic-secondary-rgb));
  
  --sn-modal-emergence-duration: 0.5s;
  --sn-modal-emergence-timing-function: var(--sn-anim-easing-organic);

  // === SIDEBAR NAVIGATION VARIABLES ===
  --sn-nav-item-base-opacity: 0.7;
  --sn-nav-item-transform-scale: 1;
  --sn-nav-item-transition-duration: 0.3s;
  --sn-nav-item-glow-color-rgb: var(--sn-color-accent-rgb, var(--sn-cosmic-accent-rgb));
  --sn-nav-item-hover-bg-opacity: 0.15;
  --sn-nav-item-active-bg-opacity: 0.2;
  --sn-nav-item-glow-intensity: 0.3;
  --sn-nav-text-energy-color-rgb: var(--sn-color-accent-rgb, var(--sn-cosmic-accent-rgb));
  --sn-nav-text-energy-opacity: 0.2;

  // === SIDEBAR CONSCIOUSNESS FIELD VARIABLES ===
  --sn-sidebar-harmonic-intensity-multiplier: 1.0;
  --sn-sidebar-current-temporal-shift: 0.5s;
  --sn-sidebar-temporal-echo-opacity: 0;
  --sn-sidebar-temporal-blur: 0px;
  --sn-sidebar-item-bloom-intensity: 0.5;
  --sn-sidebar-energy-glow-opacity: 0.3;

  // === VISUAL EFFECTS VARIABLES ===
  --sn-glow: 0 0 20px rgba(var(--sn-cosmic-accent-rgb), 0.3);
  --sn-shadow: 0 4px 8px rgba(var(--sn-cosmic-base-rgb), 0.3);

  // ═══════════════════════════════════════════════════════════════════════════════
  // 🔧 UTILITY SYSTEM VARIABLES (Priority: Low)
  // Debug, accessibility, and feature flags
  // ═══════════════════════════════════════════════════════════════════════════════
  
  // Debug and development
  --sn-debug-enabled: 0; // Debug mode enabled (0/1)
  --sn-debug-verbose: 0; // Verbose debug mode (0/1)
  --sn-debug-performance: 0; // Performance debug mode (0/1)
  --sn-debug-grid-visible: 0; // Debug grid visible (0/1)
  
  // Accessibility
  --sn-a11y-contrast-enhanced: 0; // Enhanced contrast (0/1)
  --sn-a11y-focus-visible: 1; // Focus visible (0/1)
  --sn-a11y-motion-reduced: 0; // Reduced motion (0/1)
  --sn-a11y-text-size-scale: 1; // Text size scale factor
  
  // Feature flags
  --sn-feature-webgl-enabled: 1; // WebGL features enabled (0/1)
  --sn-feature-consciousness-enabled: 1; // Consciousness features enabled (0/1)
  --sn-feature-music-sync-enabled: 1; // Music sync enabled (0/1)
  --sn-feature-animations-enabled: 1; // Animations enabled (0/1)
  --sn-feature-musical-color-harmony: 1; // Musical ColorHarmony integration enabled (0/1)
}

// ═══════════════════════════════════════════════════════════════════════════════
// 🔄 LEGACY COMPATIBILITY ALIASES
// Maintains backward compatibility during migration to unified tokens
// ═══════════════════════════════════════════════════════════════════════════════

:root {
  // === LEGACY DESIGN TOKEN ALIASES ===
  // Following "Aesthetic Gravity" principle - colors form gravitational relationships
  
  // Dynamic accent system (references --sn.color.accent.rgb)
  --sn-dynamic-accent-rgb: var(--sn.color.accent.rgb, var(--sn-color-accent-rgb));
  
  // Text glow system (references --sn.text.glow.intensity)
  --sn-text-glow-intensity: var(--sn.text.glow.intensity, 0.3);
  
  // Text gradient system (references --sn.text.gradient.angle)
  --sn-text-gradient-angle: var(--sn.text.gradient.angle, 135deg);

  // === BEAT SYNC LEGACY ALIASES ===
  --sn-beat-pulse-intensity: var(--sn-music-beat-pulse-intensity);
  --sn-rhythm-phase: var(--sn-music-rhythm-phase);
  --sn-spectrum-phase: var(--sn-music-spectrum-phase);
  --sn-breathing-scale: var(--sn-music-breathing-scale);
  --sn-feed-bloom-intensity: var(--sn-music-beat-pulse-intensity);
  
  // === COLOR LEGACY ALIASES ===
  --sn-accent-hex: var(--sn-color-accent-hex);
  --sn-accent-rgb: var(--sn-color-accent-rgb);
  --sn-gradient-primary-rgb: var(--sn-bg-gradient-primary-rgb);
  --sn-gradient-secondary-rgb: var(--sn-bg-gradient-secondary-rgb);
  --sn-gradient-accent-rgb: var(--sn-color-accent-rgb);
  
  // === CONSCIOUSNESS LEGACY ALIASES ===
  --magnetic-depth-field: var(--sn-consciousness-depth-field);
  --magnetic-hover-pull: var(--sn-consciousness-hover-pull);
  --magnetic-focus-pull: var(--sn-consciousness-focus-pull);
  --magnetic-transition-speed: var(--sn-consciousness-transition-speed);
  --consciousness-field-intensity: var(--sn-consciousness-field-intensity);
  --consciousness-breathing-rate: var(--sn-consciousness-field-breathing-rate);
  
  // === MUSICAL COLOR HARMONY LEGACY ALIASES ===
  --sn-musical-primary: var(--sn-musical-harmony-primary-rgb);
  --sn-musical-secondary: var(--sn-musical-harmony-secondary-rgb);
  --sn-musical-accent: var(--sn-musical-harmony-tertiary-rgb);
  --sn-musical-atmosphere: var(--sn-musical-harmony-quaternary-rgb);
  
  // Album art color legacy aliases
  --sn-album-dominant: var(--sn-music-album-dominant-rgb);
  --sn-album-vibrant: var(--sn-music-album-vibrant-rgb);
  --sn-album-muted: var(--sn-music-album-muted-rgb);
  --sn-album-accent: var(--sn-music-album-accent-rgb);
}

// ═══════════════════════════════════════════════════════════════════════════════
// 📱 RESPONSIVE & ACCESSIBILITY OVERRIDES
// Adjust design tokens for different devices and preferences
// ═══════════════════════════════════════════════════════════════════════════════

@media (max-width: 768px) {
  :root {
    // Reduce consciousness effects on mobile
    --sn-consciousness-field-intensity: 0.25;
    --sn-consciousness-hover-pull: 8px;
    --sn-consciousness-focus-pull: 12px;
    --sn-consciousness-depth-field: 600px;
    
    // Optimize performance on mobile
    --sn-perf-quality-level: 0.8;
    --sn-perf-fps-target: 30;
    
    // Adjust layout for mobile
    --sn-layout-sidebar-width: 100vw;
    --sn-layout-content-padding: 16px;
    --sn-layout-card-padding: 12px;
  }
}

@media (prefers-reduced-motion: reduce) {
  :root {
    // Reduce consciousness effects
    --sn-consciousness-field-intensity: 0.1;
    --sn-consciousness-hover-pull: 2px;
    --sn-consciousness-focus-pull: 4px;
    --sn-consciousness-transition-speed: 0.01s;
    
    // Disable complex animations
    --sn-music-beat-pulse-intensity: 0;
    --sn-music-breathing-scale: 1;
    
    // Enable accessibility flag
    --sn-a11y-motion-reduced: 1;
  }
}

@media (prefers-contrast: high) {
  :root {
    // Enhance contrast and visibility
    --sn-a11y-contrast-enhanced: 1;
    --sn-consciousness-field-intensity: 0.6;
    --sn-color-shift-saturation: 1.2;
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    // Optimize for dark mode
    --sn-consciousness-field-intensity: 0.35;
    --sn-color-shift-lightness: 0.9;
  }
}

@media (update: slow) {
  :root {
    // Reduce effects on slow update devices
    --sn-perf-quality-level: 0.6;
    --sn-perf-fps-target: 30;
    --sn-consciousness-field-intensity: 0.2;
  }
}

@media (hover: none) {
  :root {
    // Optimize for touch devices
    --sn-consciousness-hover-pull: 0px;
    --sn-layout-card-hover-lift: 0px;
  }
}

@media (pointer: coarse) {
  :root {
    // Optimize for coarse pointers (touch)
    --sn-layout-card-padding: 20px;
    --sn-layout-content-gap: 20px;
    --sn-consciousness-focus-pull: 24px;
  }
}

// NOTE: In Year 3000 architecture v3.0, some legacy aliases will be removed.
// Update your code to reference the unified tokens directly for future compatibility.