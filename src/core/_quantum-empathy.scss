// ===== YEAR 3000 OPTIMIZED QUANTUM EMPATHY =====
// ðŸŒŸ Essential anticipatory animations for predicted user actions
// âš¡ Performance-optimized empathic visual responses

// ===== CORE VARIABLES =====

:root {
  // Anticipatory Animation Settings (Optimized)
  --sn-anticipatory-intensity: 0;
  --sn-anticipatory-confidence: 0;
  --sn-anticipatory-duration: 800ms;

  // Performance limits
  --sn-max-concurrent-animations: 5;
  --sn-animation-throttle: 500ms;
}

// ===== ESSENTIAL ANTICIPATORY ANIMATIONS =====

// Base anticipatory animation class (Simplified)
.sn-anticipatory-base {
  --anticipatory-scale: calc(1 + var(--sn-anticipatory-intensity) * 0.03);
  --anticipatory-opacity: calc(0.95 + var(--sn-anticipatory-intensity) * 0.05);

  transform: scale(var(--anticipatory-scale));
  opacity: var(--anticipatory-opacity);
  transition: transform var(--sn-anticipatory-duration) cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity var(--sn-anticipatory-duration) cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

// Anticipatory animation for predicted clicks (Primary)
.sn-anticipatory-click {
  @extend .sn-anticipatory-base;
  animation: cosmic-click-anticipation var(--sn-anticipatory-duration) ease-out;

  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(var(--sn-gradient-accent-rgb, 140, 170, 238), 0.3);
    transform: translate(-50%, -50%);
    animation: cosmic-click-ripple var(--sn-anticipatory-duration) ease-out;
    pointer-events: none;
    z-index: 1;
  }
}

@keyframes cosmic-click-anticipation {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(calc(1 + var(--sn-anticipatory-intensity) * 0.05));
  }
  100% {
    transform: scale(calc(1 + var(--sn-anticipatory-intensity) * 0.01));
  }
}

@keyframes cosmic-click-ripple {
  0% {
    width: 0;
    height: 0;
    opacity: 0.8;
  }
  100% {
    width: 30px;
    height: 30px;
    opacity: 0;
  }
}

// Generic anticipatory animation (Fallback)
.sn-anticipatory-generic {
  @extend .sn-anticipatory-base;
  animation: cosmic-generic-anticipation var(--sn-anticipatory-duration) ease-in-out;

  &::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    border-radius: inherit;
    background: rgba(var(--sn-gradient-primary-rgb, 202, 158, 230), calc(var(--sn-anticipatory-intensity) * 0.4));
    opacity: 0;
    animation: cosmic-generic-pulse var(--sn-anticipatory-duration) ease-in-out;
    pointer-events: none;
    z-index: -1;
  }
}

@keyframes cosmic-generic-anticipation {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(calc(1 + var(--sn-anticipatory-intensity) * 0.02));
  }
}

@keyframes cosmic-generic-pulse {
  0% {
    opacity: 0;
  }
  50% {
    opacity: calc(var(--sn-anticipatory-intensity) * 0.6);
  }
  100% {
    opacity: 0;
  }
}

// ===== MODE-SPECIFIC OPTIMIZATIONS =====

// Corporate Mode: Minimal, professional animations
.mode-corporate {
  .sn-anticipatory-click,
  .sn-anticipatory-generic {
    --anticipatory-scale: calc(1 + var(--sn-anticipatory-intensity) * 0.01);
    animation-duration: 600ms;
  }
}

// Artist Mode: Balanced creative expression
.mode-artist {
  .sn-anticipatory-base {
    --anticipatory-scale: calc(1 + var(--sn-anticipatory-intensity) * 0.025);
    animation-duration: 700ms;
  }
}

// Cosmic Mode: Full empathic responsiveness
.mode-cosmic {
  .sn-anticipatory-base {
    --anticipatory-scale: calc(1 + var(--sn-anticipatory-intensity) * 0.04);
  }

  .sn-anticipatory-click::after {
    background: radial-gradient(
      circle,
      rgba(var(--sn-gradient-primary-rgb, 202, 158, 230), calc(var(--sn-anticipatory-intensity) * 0.5)),
      rgba(var(--sn-gradient-accent-rgb, 140, 170, 238), calc(var(--sn-anticipatory-intensity) * 0.3)),
      transparent
    );
  }

  .sn-anticipatory-generic::before {
    background: linear-gradient(
      45deg,
      rgba(var(--sn-gradient-primary-rgb, 202, 158, 230), calc(var(--sn-anticipatory-intensity) * 0.3)),
      rgba(var(--sn-gradient-secondary-rgb, 186, 187, 241), calc(var(--sn-anticipatory-intensity) * 0.2)),
      rgba(var(--sn-gradient-accent-rgb, 140, 170, 238), calc(var(--sn-anticipatory-intensity) * 0.1))
    );
  }
}

// ===== PERFORMANCE OPTIMIZATIONS =====

// Disable animations when too many are active (Performance safeguard)
.animation-throttled {
  .sn-anticipatory-click,
  .sn-anticipatory-generic {
    animation: none !important;
    transform: none !important;
  }
}

// Reduced motion preference support
@media (prefers-reduced-motion: reduce) {
  .sn-anticipatory-click,
  .sn-anticipatory-generic {
    animation-duration: 200ms;
    transform: none !important;

    &::before,
    &::after {
      animation: none !important;
      opacity: 0 !important;
    }
  }
}

// High contrast mode compatibility
@media (prefers-contrast: high) {
  .sn-anticipatory-click::after {
    background: rgba(255, 255, 255, 0.8) !important;
  }

  .sn-anticipatory-generic::before {
    background: rgba(255, 255, 255, 0.4) !important;
  }
}

// ===== INTEGRATION NOTES =====
//
// ðŸŒŸ This optimized system provides:
// - Essential anticipatory animations for user empathy
// - Performance limits to prevent overload
// - Mode-specific intensity scaling
// - Accessibility compliance
// - Year 3000 cosmic visual language
//
// ðŸš€ JavaScript integration points:
// - .sn-anticipatory-click for high-confidence click predictions
// - .sn-anticipatory-generic for other predicted actions
// - CSS variables for dynamic intensity control
// - Animation throttling via .animation-throttled class